import{r as s,aQ as f,aO as e,aT as E,aN as p,aM as g,aj as m}from"./index.2550a11c.js";import{c as F,u as x,M as C}from"./index.esm.95e68a35.js";import"./getScrollBarSize.24dbe264.js";function I(l){const[u,r]=s.exports.useState(null),[o,n]=s.exports.useState("<p>hello</p>"),{changVal:i}=l;s.exports.useEffect(()=>{f.getIntroduce().then(t=>{t.status==200&&n(t.result[0].info)})},[]);const c={},d={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."};return s.exports.useEffect(()=>()=>{u!=null&&(u.destroy(),r(null))},[u]),d.onChange=t=>{i(t==null?void 0:t.getHtml())},e(E,{children:p("div",{style:{border:"1px solid #ccc",zIndex:100},children:[e(F,{editor:u,defaultConfig:c,mode:"default",style:{borderBottom:"1px solid #ccc"}}),e(x,{defaultConfig:d,value:o,onCreated:r,onChange:t=>n(t.getHtml()),mode:"default",style:{height:"300px",overflowY:"hidden"}})]})})}function v(){const[l,u]=s.exports.useState("\u6682\u65E0\u4FE1\u606F"),[r,o]=s.exports.useState(!1),[n,i]=g.useMessage();s.exports.useEffect(()=>{c()},[]);const c=()=>{f.getIntroduce().then(a=>{a.status==200?(n.success("\u52A0\u8F7D\u6570\u636E\u6210\u529F"),u(a.result[0].info)):n.error("\u670D\u52A1\u5668\u94FE\u63A5\u51FA\u9519\u5566\uFF01")})},d=async()=>{(await f.putIntroduce({data:l})).status==200?(n.success("\u4FEE\u6539\u6210\u529F"),c(),o(!1)):n.error("\u4FEE\u6539\u5931\u8D25")},t=()=>{o(!1)},h=a=>{u(a)};return p("div",{className:"Introd",children:[i,e("h1",{children:"\u4E2A\u4EBA\u4ECB\u7ECD"}),e("div",{className:"info",dangerouslySetInnerHTML:{__html:l}}),e("div",{className:"btn",children:e(m,{type:"primary",onClick:()=>{o(!0)},children:"\u7F16\u8F91"})}),e(C,{title:"\u4FEE\u6539\u4E2A\u4EBA\u4ECB\u7ECD",open:r,onOk:d,onCancel:t,children:e(s.exports.Suspense,{fallback:e("div",{children:"loading"}),children:e(I,{changVal:h})})})]})}export{v as default};
