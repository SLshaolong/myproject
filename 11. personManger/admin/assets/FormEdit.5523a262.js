import{r as g,aO as e,aT as A,aN as f,aL as T,b7 as E,aM as V,b8 as n,aH as C,aj as F,aR as q,aS as v,aQ as B}from"./index.2550a11c.js";import{c as w,u as M,M as k}from"./index.esm.95e68a35.js";import{S as P}from"./Project.28c297ee.js";import"./getScrollBarSize.24dbe264.js";function z(o){const[s,u]=g.exports.useState(null),[i,c]=g.exports.useState(o.info||"<p></p>"),{ChangeVal:h}=o,l={},d={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."};return g.exports.useEffect(()=>()=>{s!=null&&(s.destroy(),u(null))},[s]),d.onChange=r=>{h(r.getHtml())},e(A,{children:f("div",{style:{border:"1px solid #ccc",zIndex:100},children:[e(w,{editor:s,defaultConfig:l,mode:"default",style:{borderBottom:"1px solid #ccc"}}),e(M,{defaultConfig:d,value:i,onCreated:u,onChange:r=>c(r.getHtml()),mode:"default",style:{height:"200px",overflowY:"hidden"}})]})})}function W(o){const s=T(),u=E(t=>t.Title.flag),i=E(t=>t.Title.title),[c,h]=g.exports.useState(""),[l,d]=V.useMessage(),r=n.useForm(),{Datareq:b,pageData:y,desc:I,technology:D,title:S,id:H}=o,O=t=>{x(r)},m=()=>{s(q(!1)),s(v(""))},j=t=>{h(t)},x=async t=>{if(i==="\u6DFB\u52A0\u9879\u76EE"){const p=Object.assign(t,{info:c}),a=await B.putAdd(p);a.status==200?(l.success(a.msg),m(),b(),y()):l.error(a.msg)}else{const p=Object.assign(t,{info:c,id:H}),a=await B.putUpdate(p);a.status==200?(l.success(a.msg),m(),b(),y()):l.error(a.msg)}};return f("div",{children:[d,e(k,{open:u,title:i,onOk:O,onCancel:m,footer:[],destroyOnClose:!0,children:f(n,{name:"basic",labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:x,autoComplete:"off",initialValues:(()=>({title:S,desc:I,technology:D}))(),children:[e(n.Item,{label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"Please input your username!"}],children:e(C,{})}),e(n.Item,{label:"\u6280\u672F\u6808",name:"technology",rules:[{required:!0,message:"Please input your username!"}],children:e(C,{})}),e(n.Item,{label:"\u4ECB\u7ECD",name:"desc",rules:[{required:!0,message:"Please input your username!"}],children:e(C,{})}),e(n.Item,{label:"\u8BE6\u60C5",name:"info",children:e(z,{ChangeVal:j,info:o.info})}),e(n.Item,{style:{textAlign:"center"},children:f(P,{size:30,children:[e(F,{type:"primary",htmlType:"submit",children:"\u63D0\u4EA4"}),e(F,{onClick:m,children:"\u5173\u95ED"})]})})]})})]})}export{W as default};
