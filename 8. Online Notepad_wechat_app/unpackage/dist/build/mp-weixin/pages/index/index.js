(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0c4a":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a}));var a={uniSegmentedControl:function(){return r.e("uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control").then(r.bind(null,"67cc"))}},n=function(){var e=this,t=e.$createElement;e._self._c},o=[]},"67c2":function(e,t,r){"use strict";r.r(t);var a=r("f5f6"),n=r.n(a);for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"6d48":function(e,t,r){"use strict";r.r(t);var a=r("0c4a"),n=r("67c2");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("f824");var s,i=r("f0c5"),u=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,"06ec7b42",null,!1,a["a"],s);t["default"]=u.exports},"6f06":function(e,t,r){},d5de:function(e,t,r){"use strict";(function(e){r("cc23");a(r("66fd"));var t=a(r("6d48"));function a(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=r,e(t.default)}).call(this,r("543d")["createPage"])},f5f6:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(r("0e05")),n=s(r("e836")),o=r("26cb");function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={data:function(){return{items:["登录","注册"],current:0,baseFormData:{telphone:"",password:"",telflag:!1,pasflag:!1},registFormData:{username:"",password:"",telphone:"",telflag:!1,pasflag:!1,useflag:!1}}},onLoad:function(){},methods:u(u({},(0,o.mapMutations)("LoginModule",["setToken"])),{},{onClickItem:function(e){this.current!=e.currentIndex&&(this.current=e.currentIndex)},changeTel:function(t,r){var a=/0?(12|13|14|15|17|18|19)[0-9]{9}/;r.target.value?a.test(parseInt(r.target.value))?"base"==t?this.baseFormData.telflag=!0:"regist"==t&&(this.registFormData.telflag=!0):e.showToast({title:"手机号错误",icon:"error"}):e.showToast({title:"请输入手机号",icon:"error"})},chackPas:function(t,r){r.target.value?r.target.value.length<6?e.showToast({title:"请输入正确密码",icon:"error"}):"base"==t?this.baseFormData.pasflag=!0:"regist"==t&&(this.registFormData.pasflag=!0):e.showToast({title:"请输入密码",icon:"error"})},checkUser:function(t){t.target.value&&""!=t.target.value.trim()&&" "!=t.target.value?this.registFormData.useflag=!0:e.showToast({title:"请输入用户名",icon:"error"})},resetFromHandle:function(e,t){"base"==e?(this.baseFormData.telphone="",this.baseFormData.password="",this.baseFormData.telflag=!1,this.baseFormData.pasflag=!1):"regist"==e&&(this.registFormData.telphone="",this.registFormData.password="",this.registFormData.username="",this.registFormData.telflag=!1,this.registFormData.pasflag=!1,this.registFormData.useflag=!1)},submitHandle:function(){var t=this,r=this.baseFormData,o=r.telphone,s=r.password,i=r.telflag,u=r.pasflag;i&&u&&e.request({url:a.default.baseUrl+a.default.Login,method:"POST",data:{username:o,password:s},header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(r){var a=r.data;if(200==a.status){var o=(0,n.default)(a.token);t.setSession(a.token),t.setToken(o),e.redirectTo({url:"../home/index"})}else e.showToast({title:"登录失败",icon:"error"})}})},registFromHandle:function(){var t=this.registFormData,r=t.username,n=t.password,o=t.telphone,s=t.useflag,i=t.pasflag,u=t.telflag;u&&i&&s&&e.request({url:a.default.baseUrl+a.default.regist,data:{username:o,password:n,nickname:r},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(t){var r=t.data;200==r.status?e.showToast({title:"注册成功"}):203==r.status?e.showToast({title:"手机号被占用",icon:"error"}):e.showToast({title:"注册失败",icon:"error"})}})},setSession:function(t){e.setStorageSync("note",t)}}),mounted:function(){this.$store.getters["LoginModule/getFlag"]&&e.redirectTo({url:"../home/index"})}};t.default=l}).call(this,r("543d")["default"])},f824:function(e,t,r){"use strict";var a=r("6f06"),n=r.n(a);n.a}},[["d5de","common/runtime","common/vendor"]]]);